from flask import Flask, request, render_template, abort

app = Flask(__name__)

users = {
    "0": {"eid": 0, "name": "Bob", "email": "bob@bgctub-it-club.loc", "profession": "CTF Admin", "experience": "6 years", "flag": "BGCTUB_ITC{br0k3n_acc3s5_c0ntr0l_0r_1d0r?}"},
    "1": {"eid": 1, "name": "Alice", "email": "alice@bgctub-it-club.loc", "profession": "Software Engineer", "experience": "2 years"},
    "2": {"eid": 2, "name": "Charlie", "email": "charlie@bgctub-it-club.loc", "profession": "Data Analyst", "experience": "3 years"},
    "3": {"eid": 3, "name": "David", "email": "david@bgctub-it-club.loc", "profession": "Network Engineer", "experience": "4 years"},
    "4": {"eid": 4, "name": "Eve", "email": "eve@bgctub-it-club.loc", "profession": "Security Researcher", "experience": "5 years"}
}

@app.route("/")
def home():
    # Default to logged-in user Alice (eid=1)
    user = users["1"]
    return render_template("profile.html", user=user)

@app.route("/profile")
def profile():
    eid = request.args.get("eid", "1")
    if eid in users:
        user = users[eid]
        return render_template("profile.html", user=user)
    else:
        return abort(404)

if __name__ == "__main__":
    app.run(host="0.0.0.0", port=9003)
